# 空间规划政策合规性分析系统 - 版本管理说明

## 版本历史

### v2.1.0 (2025.7.8)
**主要更新：**
- ✅ 修复广东省爬虫分类显示问题
- ✅ 优化政策类型字段显示逻辑
- ✅ 完善数据传递机制
- ✅ 新增Windows安装程序打包功能

**详细变更：**
1. **GUI界面优化**
   - 修复广东省政策分类名称显示问题
   - 改进政策类型列的显示逻辑
   - 确保分类信息正确传递到界面

2. **数据传递机制完善**
   - 在GUI回调函数中添加category字段解析
   - 在爬虫POLICY_DATA消息中包含分类信息
   - 修复数据流中的分类信息丢失问题

3. **用户体验改进**
   - 广东省政策现在正确显示分类名称（如"地方规范性文件"、"经济特区法规"等）
   - 表格政策类型列显示更加准确和有用

4. **Windows打包功能**
   - 新增PyInstaller打包脚本
   - 支持生成单个可执行文件
   - 支持生成便携版打包
   - 支持生成标准Windows安装程序（Inno Setup）
   - 提供多种打包方式选择
   - 完整的安装向导和卸载功能

**技术细节：**
- 修改文件：`src/space_planning/gui/main_window.py`
- 修改文件：`src/space_planning/spider/guangdong.py`
- 新增文件：`build_complete_installer.py`
- 新增文件：`完整打包.bat`
- 新增文件：`打包说明.md`、`Inno_Setup_安装指南.md`
- 涉及功能：数据传递、界面显示、分类管理、程序打包

---

### v2.0.0 (2025.7.7)
**主要更新：**
- ✅ 广东省爬虫翻页功能完全修复
- ✅ 优化HTML解析逻辑
- ✅ 增强错误处理和监控
- ✅ 完善防反爬虫机制

**详细变更：**
1. **翻页机制重构**
   - 实现两步翻页请求（校验接口 + 数据接口）
   - 添加翻页校验请求机制
   - 优化请求参数和headers设置

2. **HTML解析优化**
   - 基于最新网站结构分析优化解析逻辑
   - 改进政策项目识别算法
   - 增强数据提取准确性

3. **错误处理增强**
   - 添加连续空页计数机制
   - 优化重试逻辑
   - 完善异常处理

4. **监控系统完善**
   - 实时爬虫状态监控
   - 请求成功率统计
   - 性能指标跟踪

---

### v1.0.0 (2025.7.5)
**初始版本：**
- ✅ 基础爬虫功能
- ✅ 数据库管理
- ✅ 合规性分析
- ✅ 数据导出功能

## 版本命名规则

- **主版本号**：重大功能更新或架构变更
- **次版本号**：功能增强和重要修复
- **修订版本号**：bug修复和小幅改进

## 更新日志格式

每次版本更新应包含：
1. 版本号和发布日期
2. 主要更新内容（用✅标记）
3. 详细变更说明
4. 技术细节和涉及文件
5. 已知问题和注意事项

## 维护说明

- 每次重要更新后及时更新此文档
- 保留详细的变更记录便于问题追踪
- 记录已知问题和解决方案
- 标注涉及的核心文件和功能模块 